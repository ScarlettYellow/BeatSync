# 手机本地测试指南

## 前提条件

1. **手机和电脑在同一WiFi网络**
2. **电脑防火墙允许8000和8080端口**
3. **获取电脑的局域网IP地址**

## 快速开始

### 1. 获取电脑的局域网IP地址

**macOS/Linux:**
```bash
ifconfig | grep "inet " | grep -v 127.0.0.1
```

**Windows:**
```bash
ipconfig
```
查找 "IPv4 地址"，通常是 `192.168.x.x` 或 `10.x.x.x`

### 2. 启动服务（使用局域网IP）

```bash
cd web_service
./start_local_mobile.sh
```

或者手动启动：

**后端（终端1）:**
```bash
cd web_service/backend
uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

**前端（终端2）:**
```bash
cd web_service/frontend
python3 -m http.server 8080
```

### 3. 在手机上访问

在手机浏览器中输入：
```
http://你的电脑IP:8080
```

例如：`http://192.168.31.193:8080`

## 注意事项

1. **防火墙设置**：
   - macOS: 系统设置 → 网络 → 防火墙 → 选项 → 允许传入连接
   - 或临时关闭防火墙进行测试

2. **网络连接**：
   - 确保手机和电脑连接的是同一个WiFi
   - 某些公共WiFi可能阻止设备间通信

3. **IP地址变化**：
   - 如果电脑重新连接WiFi，IP地址可能会变化
   - 需要重新获取IP地址

## 故障排查

### 问题1: 手机无法访问
- 检查防火墙设置
- 确认手机和电脑在同一WiFi
- 检查IP地址是否正确

### 问题2: 前端能访问但无法处理
- 检查后端是否正常运行
- 检查前端是否正确连接到后端IP
- 查看浏览器控制台的错误信息

### 问题3: CORS错误
- 后端已经配置了CORS，应该不会有问题
- 如果仍有问题，检查 `ALLOWED_ORIGINS` 环境变量

## 测试建议

1. **先测试前端访问**：确保能打开页面
2. **再测试文件上传**：上传小文件测试
3. **最后测试处理**：使用小视频文件测试完整流程

