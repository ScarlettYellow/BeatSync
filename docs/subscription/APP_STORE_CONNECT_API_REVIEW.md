# App Store Connect API 创建内购商品评估

## 问题

是否可以使用 App Store Connect API 批量创建内购商品？

## 研究结果

### App Store Connect API 支持的功能

App Store Connect API 主要支持：

1. **App 信息管理**
   - 创建和更新 App 信息
   - 管理 App 版本
   - 管理构建版本

2. **测试管理**
   - TestFlight 测试管理
   - 测试用户管理

3. **销售和财务**
   - 查看销售报告
   - 查看财务数据

4. **用户和权限**
   - 管理用户访问权限

### ❌ 不支持的功能

**App Store Connect API 目前不支持**：
- ❌ 创建 App 内购买项目
- ❌ 创建订阅产品
- ❌ 批量创建内购商品
- ❌ 修改内购商品价格
- ❌ 管理内购商品状态

### 官方说明

根据 Apple 官方文档，App 内购买项目的创建和管理**必须通过 App Store Connect 网站手动完成**，无法通过 API 自动化。

## 替代方案

### 方案 1：手动创建（标准方式）

**优点**：
- ✅ 官方支持
- ✅ 稳定可靠
- ✅ 有完整的 UI 指导

**缺点**：
- ❌ 需要手动操作
- ❌ 创建多个产品较耗时

**操作步骤**：
1. 登录 App Store Connect
2. 逐个创建产品
3. 配置价格和描述

### 方案 2：使用脚本辅助（部分自动化）

虽然不能通过 API 创建，但可以：

1. **创建产品配置模板**
   - 使用 JSON 或 CSV 文件定义所有产品信息
   - 包含产品ID、名称、价格、描述等

2. **使用浏览器自动化工具**
   - Selenium / Playwright
   - 自动化填写表单
   - **注意**：可能违反 Apple 服务条款

3. **使用 AppleScript（macOS）**
   - 自动化浏览器操作
   - **注意**：可能违反 Apple 服务条款

**风险**：
- ⚠️ 可能违反 Apple 服务条款
- ⚠️ 自动化可能不稳定
- ⚠️ 需要维护脚本

### 方案 3：分阶段创建（推荐）

**策略**：
1. **第一阶段**：先创建 1-2 个测试产品
   - 用于测试购买流程
   - 验证收据验证功能

2. **第二阶段**：测试完成后，再创建其他产品
   - 确保流程正确后再批量创建

**优点**：
- ✅ 安全可靠
- ✅ 可以边测试边创建
- ✅ 符合 Apple 规范

## 推荐方案

### 推荐：手动创建 + 配置模板

1. **创建产品配置模板**（我可以帮你创建）
   - JSON 格式，包含所有产品信息
   - 方便复制粘贴到 App Store Connect

2. **分阶段创建**
   - 先创建 1 个测试产品
   - 测试购买流程
   - 确认无误后，再创建其他产品

3. **使用配置模板**
   - 按照模板信息填写
   - 减少错误
   - 提高效率

## 我可以帮你做什么

虽然不能通过 API 自动创建，但我可以：

1. ✅ **创建产品配置模板**
   - JSON/CSV 格式
   - 包含所有产品信息
   - 方便复制到 App Store Connect

2. ✅ **创建操作指南**
   - 详细的创建步骤
   - 截图说明
   - 常见问题解答

3. ✅ **创建检查清单**
   - 确保所有产品配置正确
   - 避免遗漏

## 结论

**答案**：❌ **不能**通过 App Store Connect API 批量创建内购商品。

**原因**：Apple 官方不支持通过 API 创建内购商品，必须手动在 App Store Connect 网站创建。

**建议**：使用配置模板 + 手动创建的方式，既安全又高效。

## 下一步

我可以为你创建：
1. 产品配置模板（JSON/CSV）
2. 详细的操作指南
3. 检查清单

需要我创建这些辅助工具吗？

